{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\magang-praktek\\\\baru-tes\\\\project-manajuser-master\\\\project-dashboard\\\\src\\\\models\\\\read.user.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport CreateUser from './create.user';\nimport EditUser from './edit.user';\nimport Config from '../config/config';\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\nimport 'sweetalert2/src/sweetalert2.scss';\n\nclass readUser extends Component {\n  /**\n   * @description konstruktor kelas konten\n   * @param {*} props untuk menampung daftar user yang terdapat pada database\n   */\n  constructor(props) {\n    super(props);\n    this.state = {\n      listUser: []\n    };\n  }\n  /**\n   * @description method untuk memanggil dan memanipulasi data agar data dapat ditampil sesuai dengan paging short, limit entry\n   */\n\n\n  componentDidMount() {\n    this.loadUser();\n    const script = document.createElement(\"script\");\n    script.src = 'js/content.js';\n    script.async = true;\n    document.body.appendChild(script);\n  }\n  /**\n   * @description method untuk memanggil dan memanipulasi data dari database ke server\n   */\n\n\n  loadUser() {\n    const url = Config.baseUrl + \"/users\";\n    return axios.get(url).then(res => {\n      if (res.data.success) {\n        const data = res.data.data;\n        this.setState({\n          listUser: data\n        });\n      } else {\n        alert(\"Error web service\");\n      }\n    }).catch(error => {\n      alert(\"Error server \" + error);\n    });\n  }\n  /**\n   * @description method untuk manampilkan tabel daftar user pada halaman dashboard\n   */\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"box-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, \"Daftar User\"), /*#__PURE__*/React.createElement(\"ol\", {\n      className: \"breadcrumb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-warning\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#modal-default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 27\n      }\n    }, \"Create User\")))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(CreateUser, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      id: \"example1\",\n      className: \"table table-bordered table-striped\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 31\n      }\n    }, \"Nama\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 31\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 31\n      }\n    }, \"No. Handphone\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 31\n      }\n    }, \"Role\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 31\n      }\n    }, \"Options\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 27\n      }\n    }, this.loadFillData())))))))));\n  }\n  /**\n   * @description method untuk memanggil sesuai dengan permintaan kedalam tabel\n   */\n\n\n  loadFillData() {\n    return this.state.listUser.map(data => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: data.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }\n      }, data.name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }\n      }, data.email), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }\n      }, data.phone), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }\n      }, data.role.role), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-default btn-block\",\n        \"data-toggle\": \"dropdown\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 15\n        }\n      }, \"...\"), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"dropdown-menu\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        \"data-toggle\": \"modal\",\n        \"data-target\": \"#modal-default2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-pencil\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 23\n        }\n      }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 53\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(EditUser, {\n        listUser: listUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 23\n        }\n      }))), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"divider\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        onClick: () => this.onDelete(data.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-trash\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 23\n        }\n      }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 53\n        }\n      }, \"Delete\")))))));\n    });\n  }\n\n  onDelete(id) {\n    Swal.fire({\n      title: 'Are you sure?',\n      text: 'You will not be able to recover this data!',\n      // type: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Yes, delete it!',\n      cancelButtonText: 'No, keep it'\n    }).then(response => {\n      if (response.value) {\n        this.sendDelete(id);\n      } else if (response.dismiss === Swal.DismissReason.cancel) {\n        Swal.fire('Cancelled', 'Your data is safe :)', 'error');\n      }\n    });\n  }\n\n  sendDelete(userId) {\n    // url backend\n    const url = Config.baseUrl + \"/users/\" + userId; // parameter data post\n    // network\n\n    axios.delete(url, {\n      id: userId\n    }).then(response => {\n      console.log(response);\n\n      if (response.data.success) {\n        Swal.fire('Deleted!', 'Your data has been deleted.', 'success');\n        this.loadUser();\n      }\n    }).catch(error => {\n      alert(\"Error 325 \");\n    });\n  }\n\n}\n\nexport default readUser;","map":{"version":3,"sources":["C:/Users/HP/magang-praktek/baru-tes/project-manajuser-master/project-dashboard/src/models/read.user.js"],"names":["React","Component","axios","CreateUser","EditUser","Config","Swal","readUser","constructor","props","state","listUser","componentDidMount","loadUser","script","document","createElement","src","async","body","appendChild","url","baseUrl","get","then","res","data","success","setState","alert","catch","error","render","loadFillData","map","id","name","email","phone","role","onDelete","fire","title","text","showCancelButton","confirmButtonText","cancelButtonText","response","value","sendDelete","dismiss","DismissReason","cancel","userId","delete","console","log"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport axios from 'axios';\nimport CreateUser from './create.user';\n import EditUser from './edit.user';\nimport Config from '../config/config';\nimport Swal from 'sweetalert2/dist/sweetalert2.js'\nimport 'sweetalert2/src/sweetalert2.scss'\n\nclass readUser extends Component {\n  /**\n   * @description konstruktor kelas konten\n   * @param {*} props untuk menampung daftar user yang terdapat pada database\n   */\n  constructor(props){\n    super(props);\n    this.state = {\n      listUser:[]\n    }\n  }\n\n  /**\n   * @description method untuk memanggil dan memanipulasi data agar data dapat ditampil sesuai dengan paging short, limit entry\n   */\n  componentDidMount(){\n     this.loadUser()\n     const script = document.createElement(\"script\");\n        script.src = 'js/content.js';\n        script.async = true;\n\n        document.body.appendChild(script);\n  }\n\n  /**\n   * @description method untuk memanggil dan memanipulasi data dari database ke server\n   */\n  loadUser(){\n    const url = Config.baseUrl+\"/users\"\n    return axios.get(url)\n    .then(res=>{\n      if (res.data.success) {\n        const data = res.data.data\n        this.setState({listUser:data})\n      }\n      else {\n        alert(\"Error web service\")\n      }\n    })\n    .catch(error=>{\n      alert(\"Error server \"+error)\n    })\n  } \n\n    /**\n     * @description method untuk manampilkan tabel daftar user pada halaman dashboard\n     */\n    render() {\n      return (\n        <div>\n          <div className=\"content-wrapper\">\n            {/* Main content */}\n            <section className=\"content\">\n              <div className=\"row\">\n                <div className=\"col-xs-12\">\n                  {/* /.box */}\n                  <div className=\"box\">\n                    <div className=\"box-header\">\n                      <section className=\"content-header\">\n                        <h3 className=\"box-title\">Daftar User</h3>\n                        <ol className=\"breadcrumb\">\n                          <button type=\"button\" className=\"btn btn-warning\" data-toggle=\"modal\" data-target=\"#modal-default\">\n                          Create User\n                          \n                          </button>\n                        </ol>\n                      </section>        \n                    </div>\n                      <br></br>\n\n                      <CreateUser/>\n                      {/* <EditUser/> */}\n\n                      <div className=\"box-body\">\n                        <table id=\"example1\" className=\"table table-bordered table-striped\" >\n                          <thead>\n                            <tr>\n                              <th scope=\"col\">Nama</th>\n                              <th scope=\"col\">Email</th>\n                              <th scope=\"col\">No. Handphone</th>\n                              <th scope=\"col\">Role</th>\n                              <th scope=\"col\">Options</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            \n                            {this.loadFillData()}\n                          </tbody>\n                        </table>\n                      </div>\n                    {/* /.box-body */}\n                    </div>\n                {/* /.box */}\n                </div>\n              {/* /.col */}\n              </div>\n            </section>\n          </div>\n        </div>\n      );\n    }\n\n    /**\n     * @description method untuk memanggil sesuai dengan permintaan kedalam tabel\n     */\n    loadFillData(){\n      return this.state.listUser.map((data)=>{\n        \n        return(\n          \n          <tr key = {data.id}>\n            {/* <td>{data.id}</td> */}\n            <td>{data.name}</td>\n            <td>{data.email}</td>\n            <td>{data.phone}</td>\n            <td>{data.role.role}</td>\n            <td>\n              <div className=\"input-group-btn\">\n              <button type=\"button\" className=\"btn btn-default btn-block\" data-toggle=\"dropdown\">...</button>\n                <ul className=\"dropdown-menu\">\n                  <li>\n                    <a data-toggle=\"modal\" data-target=\"#modal-default2\">\n                      <i className=\"fa fa-pencil\"/> <span>Edit</span>\n                      <EditUser listUser={listUser}/>\n                    </a> \n                                  \n                  </li>\n                  \n                  <li className=\"divider\"></li>\n                  <li>\n                    <a onClick={()=>this.onDelete(data.id)}>\n                      <i className=\"fa fa-trash\" /> <span>Delete</span>\n                    </a>\n                  </li>\n                </ul>\n              </div>\n            </td>\n          </tr>\n         \n\n        )\n      })\n    }\n\n    onDelete(id){\n      Swal.fire({\n        title: 'Are you sure?',\n        text: 'You will not be able to recover this data!',\n        // type: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, delete it!',\n        cancelButtonText: 'No, keep it'\n      }).then((response) => {\n        if (response.value) {\n          this.sendDelete(id)\n        } else if (response.dismiss === Swal.DismissReason.cancel) {\n          Swal.fire(\n            'Cancelled',\n            'Your data is safe :)',\n            'error'\n          )\n        }\n      })\n    }\n\n    sendDelete(userId)\n  {\n    // url backend\n    const url = Config.baseUrl+\"/users/\"+userId    // parameter data post\n    // network\n    axios.delete(url,{id:userId})\n    .then(response =>{\n      console.log(response)\n      if (response.data.success) {\n        Swal.fire(\n          'Deleted!',\n          'Your data has been deleted.',\n          'success'\n        )\n        this.loadUser()\n      }\n    })\n    .catch ( error => {\n      alert(\"Error 325 \")\n    })\n  }\n \n\n}\nexport default readUser;\n"]},"metadata":{},"sourceType":"module"}